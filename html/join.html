<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>컴포즈커피 회원가입</title>
    <!-- favicon-->
    <link rel="icon" href="../public/images/icon/favicon.ico" />

    <!-- css -->
    <link rel="stylesheet" href="../public/css/moon.css" />

    <!-- jquery -->
    <script src="../public/js/jquery-3.7.1.min.js"></script>
  </head>

  <body>
    <div id="header"></div>
    <main>
      <div class="join_wrap">
        <h2>
          컴포즈 커피와<br />
          즐거운 만남을 시작해볼까요?
        </h2>
        <form action="/register" method="post">
          <fieldset>
            <legend class="title">필수정보</legend>
            <div>
              <label for="name">이름</label>
              <input type="text" id="name" name="name" placeholder="이름을 입력하세요" required />
            </div>
            <div>
              <label for="phone">휴대폰번호</label>
              <input type="tel" id="phone" name="phone" placeholder="숫자만 입력하세요 (-)제외" required />
            </div>
            <div>
              <label for="username">아이디</label>
              <input type="text" id="username" name="username" placeholder="6~16자/영문, 숫자 조합" required />
              <p id="charLimitMessage"></p>
              <script>
                const inputField = document.getElementById("username");
                const charLimitMessage = document.getElementById("charLimitMessage");

                inputField.addEventListener("input", function () {
                  const inputText = this.value;
                  const maxLength = 16;
                  const minLength = 6;

                  if (inputText.length < minLength) {
                    charLimitMessage.textContent = "*최소 6자 이상 입력해주세요.";
                    charLimitMessage.style.display = "block";
                  } else if (inputText.length > maxLength) {
                    charLimitMessage.textContent = "*최대 16자까지 입력 가능합니다.";
                    charLimitMessage.style.display = "block";
                  } else {
                    charLimitMessage.textContent = "사용할 수 있습니다.";
                    charLimitMessage.style.display = "none";
                  }
                });
              </script>
            </div>
            <div>
              <label for="password">비밀번호</label>
              <input type="password" id="password" name="password" required />
            </div>
            <div>
              <label for="confirm_password">비밀번호 재입력</label>
              <input type="password" id="confirm_password" name="confirm_password" required />
            </div>
            <div>
              <label for="email">이메일</label>
              <input type="email" id="email" name="email" required />
            </div>
          </fieldset>
          <fieldset>
            <legend>선택정보</legend>
            <div>
              <label for="gender">성별:</label>
              <select id="gender" name="gender">
                <option value="male">남성</option>
                <option value="female">여성</option>
                <option value="other">기타</option>
              </select>
            </div>
            <div>
              <label for="birthdate">생년월일:</label>
              <input type="date" id="birthdate" name="birthdate" required />
            </div>
          </fieldset>
          <fieldset>
            <legend>약관 동의</legend>
            <div>
              <input type="checkbox" id="agree" name="agree" required />
              <label for="agree">약관에 동의합니다.</label>
            </div>
          </fieldset>
          <div>
            <input type="submit" value="가입하기" />
          </div>
        </form>
      </div>
    </main>
    <div id="footer"></div>
    <script>
      $(document).ready(function () {
        $("#header").load("compose_header.html");
      });
    </script>
  </body>
</html>
